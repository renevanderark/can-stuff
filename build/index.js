!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(1),u=r(o),i=n(2),a=r(i),f=n(3),c=r(f),l=n(4),d=r(l),s=n(5),p=r(s),h=n(6),v=r(h),g=n(8),y=r(g),m=1e3,M=1e3,S=document.getElementById("foo-layer"),w=document.getElementById("bar-layer"),_=(0,u.default)(S.getContext("2d"),S),O=(0,a.default)(w.getContext("2d"),w),E=(0,p.default)();(0,d.default)(m,M,(0,c.default)([S,w],E.onResize,_.onResize,O.onResize));var b=(0,y.default)(21,m),P=(0,v.default)(b),T=function e(){_.render(P.walls),requestAnimationFrame(e)};T(),E.add("click",function(e,t){P.walls.filter(function(n){return n.isAt(e.clientX-e.target.offsetLeft,e.clientY-e.target.offsetTop,t)}).forEach(function(e){return e.rotate()})},w)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=void 0,r=!1;return{onResize:function(e){n=e},clear:function(){r=!0},render:function(o){r?(e.clearRect(0,0,t.width,t.height),r=!1):o.filter(function(e){return e.updated()}).forEach(function(t){return t.clear(e,n)}),o.filter(function(e){return e.updated()}).forEach(function(t){return t.draw(e,n)})}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=void 0;return{onResize:function(e){n=e},drawText:function(r,o,u,i,a,f){e.font="bold "+(i||50)*n+"px sans-serif",e.fillStyle=a||"#fff",e.fillText(r,Math.round(o*n),Math.round(u*n));var c=function(){return e.clearRect(0,0,t.width,t.height)};return f&&setTimeout(c,f||500),c}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r){e.forEach(function(e){e.style.left=parseInt(Math.floor((window.innerWidth-n)/2),10),e.style.top=parseInt(Math.floor((window.innerHeight-r)/2),10),e.width=n,e.height=r})}for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return[t].concat(r)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){function r(e,t,r){n.forEach(function(n){return n(r,e,t)})}function o(){var t=window,n=t.innerWidth,o=t.innerHeight;n*u>o?r(parseInt(Math.floor(o/u),10),o,o/u/e):r(n,parseInt(Math.floor(n*u),10),n/e)}var u=t/e;o(),window.addEventListener("resize",o)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=void 0,t=[];return{onResize:function(t){e=t},add:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,u=function(t){return r(t,e)};t.push({elem:o,eventName:n,fn:u}),o.addEventListener(n,u)},clear:function(){t.forEach(function(e){var t=e.elem,n=e.eventName,r=e.fn;return t.removeEventListener(n,r)})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.initGrid,n=e.Types,r=e.getP,o=e.getX,i=e.getY,a=e.getOpen,f=e.SIZE,c=(0,u.default)(e),l=c.makeWall,d=function e(){var u=t(),c=r((f-1)/2,(f-1)/2);for(u[c]=n.PathSpace;o(c)>0&&o(c)<f-1&&i(c)>0&&i(c)<f-1;){var l=a(c,u);if(0===l.length)return e();c=l[Math.floor(Math.random()*l.length)],l.filter(function(e){return c!==e}).forEach(function(e){return u[e]=n.ClosedSpace}),u[c]=n.PathSpace}return u},s=d().map(function(e){return e===n.ClosedSpace?n.OpenSpace:e}),p=[];s.filter(function(e){return e===n.OpenSpace}).length>0;){var h=s.map(function(e,t){return{g:e,i:t}}).filter(function(e){var t=e.g;return t===n.OpenSpace}),v=h[Math.floor(Math.random()*h.length)].i;p.push(l(v,s,0===Math.floor(6*Math.random())?3:2))}return{walls:p}};var o=n(7),u=r(o)},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,u=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){var t=e.getOpen,o=e.Types,u=e.getScreenPos,i=e.getGridSize,a=e.getRect,f=function(e){var t=e,o="black";return{getSpaces:function(){return t},isAt:function(e,n,o){for(var a=i(o)/2,f=0;f<t.length;f++){var c=u(t[f],o),l=r(c,2),d=l[0],s=l[1];if(s-a<n&&s+a>n&&d-a<e&&d+a>e)return!0}return!1},rotate:function(){o="red"},draw:function(e,r){e.beginPath(),e.lineWidth=Math.floor(i(r)),e.strokeStyle=o,e.lineCap="round",1===t.length?(e.moveTo.apply(e,n(u(t[0],r))),e.lineTo.apply(e,n(u(t[0],r)))):t.forEach(function(t,o){0===o?e.moveTo.apply(e,n(u(t,r))):e.lineTo.apply(e,n(u(t,r)))}),e.stroke()},clear:function(e,r){t.forEach(function(t){e.clearRect.apply(e,n(a(t,r)))})},updated:function(){return!0}}},c=function e(n,r){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];r[n]=o.ClosedSpace;var a=t(n,r);return 0===a.length||1===u?f(i.concat(n)):e(a[parseInt(Math.random()*a.length,10)],r,u-1,i.concat(n))};return{makeWall:c}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={OpenSpace:0,PathSpace:1,ClosedSpace:2},r=t/e,o=function(t){return t%e},u=function(t){return(t-t%e)/e},i=function(t,n){return t+n*e},a=function(t,n){return[n>0?i(t,n-1):null,n<e-1?i(t,n+1):null,t>0?i(t-1,n):null,t<e-1?i(t+1,n):null]},f=function(e,t){return[o(e)*r*t+r*t*.5,u(e)*r*t+r*t*.5]},c=function(e,t){return[o(e)*r*t,u(e)*r*t,r*t,r*t]},l=function(e){return r*e},d=function(e,t){return t[e]===n.OpenSpace},s=function(e,t){return a(o(e),u(e)).filter(function(e){return d(e,t)})},p=function(){for(var t=[],r=0;r<e;r++)for(var o=0;o<e;o++)t[i(o,r)]=n.OpenSpace;return t};return{SIZE:e,getRect:c,getScreenPos:f,getGridSize:l,getX:o,getY:u,getP:i,getOpen:s,Types:n,initGrid:p}}}]);