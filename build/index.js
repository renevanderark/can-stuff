!function(t){function e(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return t[r].call(u.exports,u,u.exports,e),u.loaded=!0,u.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var u=n(1),o=r(u),i=n(2),a=r(i),f=n(3),c=r(f),l=n(4),d=r(l),s=n(5),p=r(s),h=n(6),v=r(h),g=n(8),y=r(g),m=1e3,M=1e3,w=document.getElementById("foo-layer"),x=document.getElementById("bar-layer"),S=(0,o.default)(w.getContext("2d"),w),b=(0,a.default)(x.getContext("2d"),x),O=(0,p.default)();(0,d.default)(m,M,(0,c.default)([w,x],O.onResize,S.onResize,b.onResize));var P=(0,y.default)(11,m),I=(0,v.default)(P),_=function t(){S.render(I.walls),requestAnimationFrame(t)};_(),O.add("click",function(t,e){I.walls.map(function(t,e){return{w:t,wIdx:e}}).filter(function(n){var r=n.w;return r.isAt(t.clientX-t.target.offsetLeft,t.clientY-t.target.offsetTop,e)}).forEach(function(t){var n=t.w,r=t.wIdx;n.clear(w.getContext("2d"),e),n.rotate(P.gridSpaceIsFree(I.walls,r))})},x)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=void 0,r=!1;return{onResize:function(t){n=t},clear:function(){r=!0},render:function(u){r?(t.clearRect(0,0,e.width,e.height),r=!1):u.filter(function(t){return t.updated()}).forEach(function(e){return e.clear(t,n)}),u.filter(function(t){return t.updated()}).forEach(function(e){return e.draw(t,n)})}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=void 0;return{onResize:function(t){n=t},drawText:function(r,u,o,i,a,f){t.font="bold "+(i||50)*n+"px sans-serif",t.fillStyle=a||"#fff",t.fillText(r,Math.round(u*n),Math.round(o*n));var c=function(){return t.clearRect(0,0,e.width,e.height)};return f&&setTimeout(c,f||500),c}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(e,n,r){t.forEach(function(t){t.style.left=parseInt(Math.floor((window.innerWidth-n)/2),10),t.style.top=parseInt(Math.floor((window.innerHeight-r)/2),10),t.width=n,t.height=r})}for(var n=arguments.length,r=Array(n>1?n-1:0),u=1;u<n;u++)r[u-1]=arguments[u];return[e].concat(r)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){function r(t,e,r){n.forEach(function(n){return n(r,t,e)})}function u(){var e=window,n=e.innerWidth,u=e.innerHeight;n*o>u?r(parseInt(Math.floor(u/o),10),u,u/o/t):r(n,parseInt(Math.floor(n*o),10),n/t)}var o=e/t;u(),window.addEventListener("resize",u)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=void 0,e=[];return{onResize:function(e){t=e},add:function(n,r){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,o=function(e){return r(e,t)};e.push({elem:u,eventName:n,fn:o}),u.addEventListener(n,o)},clear:function(){e.forEach(function(t){var e=t.elem,n=t.eventName,r=t.fn;return e.removeEventListener(n,r)})}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){var n=[],r=!0,u=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){u=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(u)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=function(t){for(var e=t.initGrid,n=t.Types,r=t.getP,o=t.getX,a=t.getY,f=t.getOpen,c=t.SIZE,l=(t.gridSpaceIsFree,(0,i.default)(t)),d=l.makeWall,s=function t(){var u=e(),i=r((c-1)/2,(c-1)/2),l=0;for(u[i]=n.PathSpace;o(i)>0&&o(i)<c-1&&a(i)>0&&a(i)<c-1;){var d=f(i,u);if(0===d.length)return t();i=d[Math.floor(Math.random()*d.length)],d.filter(function(t){return i!==t}).forEach(function(t){return u[t]=n.ClosedSpace}),u[i]=n.PathSpace,l++}return[u,l]},p=s().map(function(t){return t===n.ClosedSpace?n.OpenSpace:t}),h=u(p,2),v=h[0],g=h[1],y=[];v.filter(function(t){return t===n.OpenSpace}).length>0;){var m=v.map(function(t,e){return{g:t,i:e}}).filter(function(t){var e=t.g;return e===n.OpenSpace}).sort(function(t,e){return Math.abs(c-1-o(t.i))+Math.abs(c-1-a(t.i))-(Math.abs(c-1-o(e.i))+Math.abs(c-1-a(e.i)))}),M=m[0].i,w=d(M,v,0===Math.floor(6*Math.random())?3:2);null!==w&&y.push(w)}for(var x={},S=0;S<3;S++)y.forEach(function(e,n){x[n]=x[n]||[];var u=e.getCurrentRotation(),o=e.rotate(function(e){return t.gridSpaceIsFree(y,n)(e)&&e!==r((c-1)/2,(c-1)/2)});u!==o&&x[n].indexOf(o)<0&&x[n].push(o)});return{walls:y,complexity:g+y.length}};var o=n(7),i=r(o)},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],r=!0,u=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){u=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(u)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=function(t){var e=t.getOpen,u=t.Types,o=t.getScreenPos,i=t.getGridSize,a=t.getRect,f=t.getX,c=t.getY,l=t.getP,d=function(t){var e=t,u=e[0],d=function(){return{x:f(u),y:c(u)}},s=function(t,e,n){return{x:t.x+Math.round(e.x*Math.cos(n)-e.y*Math.sin(n)),y:t.y+Math.round(e.x*Math.sin(n)+e.y*Math.cos(n))}},p=function(t,e,n,r){return t.map(function(t,u){return s(e,n[u],r)}).map(function(t){var e=t.x,n=t.y;return l(e,n)})},h=function(){for(var e=d(),n=t.map(function(t){return{x:f(t),y:c(t)}}),r=n.map(function(t){return{x:e.x-t.x,y:e.y-t.y}}),u=0;u<4;u++){var o=90*u*(Math.PI/180),i=p(n,e,r,o);if(i.filter(function(e,n){return e===t[n]}).length===t.length)return u}return console.log("never reached?"),0},v=h();return{getCurrentRotation:function(){return v},getSpaces:function(){return e},isAt:function(t,n,u){for(var a=i(u)/2,f=0;f<e.length;f++){var c=o(e[f],u),l=r(c,2),d=l[0],s=l[1];if(s-a<n&&s+a>n&&d-a<t&&d+a>t)return!0}return!1},rotate:function(n){var r=d(),u=t.map(function(t){return{x:f(t),y:c(t)}}),o=u.map(function(t){return{x:r.x-t.x,y:r.y-t.y}}),i=v;do{v=3===v?0:v+1;var a=90*v*(Math.PI/180),l=p(u,r,o,a);if(l.indexOf(-1)<0&&0===l.filter(function(t){return!n(t)}).length){e=l;break}}while(v!==i);return v},draw:function(t,r){t.beginPath(),t.lineWidth=Math.floor(i(r)),t.lineCap="round",1===e.length?(t.moveTo.apply(t,n(o(e[0],r))),t.lineTo.apply(t,n(o(e[0],r)))):e.forEach(function(e,u){0===u?t.moveTo.apply(t,n(o(e,r))):t.lineTo.apply(t,n(o(e,r)))}),t.stroke(),t.beginPath(),t.fillStyle="white",t.arc.apply(t,n(o(u,r)).concat([i(r)/6,0,2*Math.PI,!1])),t.fill()},clear:function(t,r){e.forEach(function(e){t.clearRect.apply(t,n(a(e,r)))})},updated:function(){return!0}}},s=function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];r[n]=u.ClosedSpace;var a=e(n,r);return 0===a.length||1===o?i.length<1?null:d(i.concat(n)):t(a[parseInt(Math.random()*a.length,10)],r,o-1,i.concat(n))};return{makeWall:s}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n={OpenSpace:0,PathSpace:1,ClosedSpace:2},r=e/t,u=function(e){return e%t},o=function(e){return(e-e%t)/t},i=function(e,n){return e>=0&&e<t&&n>=0&&n<t?e+n*t:-1},a=function(e,n){return[n>0?i(e,n-1):null,n<t-1?i(e,n+1):null,e>0?i(e-1,n):null,e<t-1?i(e+1,n):null]},f=function(t,e){return[u(t)*r*e+r*e*.5,o(t)*r*e+r*e*.5]},c=function(t,e){return[u(t)*r*e,o(t)*r*e,r*e,r*e]},l=function(t){return r*t},d=function(t,e){return e[t]===n.OpenSpace},s=function(t,e){return a(u(t),o(t)).filter(function(t){return d(t,e)})},p=function(){for(var e=[],r=0;r<t;r++)for(var u=0;u<t;u++)e[i(u,r)]=n.OpenSpace;return e},h=function(t,e){return function(n){return t.filter(function(t,n){return n!==e}).map(function(t){return t.getSpaces()}).reduce(function(t,e){return t.concat(e)}).indexOf(n)<0}};return{SIZE:t,getRect:c,getScreenPos:f,getGridSize:l,getX:u,getY:o,getP:i,getOpen:s,Types:n,initGrid:p,gridSpaceIsFree:h}}}]);